var dropdown = function (callback) { var ant = { addEvent: function (obj, type, fn, ref_obj) { if (obj.addEventListener) obj.addEventListener(type, fn, false); else if (obj.attachEvent) { obj["e" + type + fn] = fn; obj[type + fn] = function () { obj["e" + type + fn](window.event, ref_obj); }; obj.attachEvent("on" + type, obj[type + fn]); } }, input: "", pattern: "38384040373937396665", load: function (link) { this.addEvent(document, "keydown", function (e, ref_obj) { if (ref_obj) ant = ref_obj; ant.input += e ? e.keyCode : event.keyCode; if (ant.input.length > ant.pattern.length) ant.input = ant.input.substr((ant.input.length - ant.pattern.length)); if (ant.input == ant.pattern) { ant.code(link); ant.input = ""; e.preventDefault(); return false; } }, this); }, code: function (link) { window.location = link } }; typeof callback === "string" && ant.load(callback); if (typeof callback === "function") { ant.code = callback; ant.load(); } return ant; }; new dropdown(function() {$(document).foundation('topbar', 'xlarge')});
